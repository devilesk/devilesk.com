require=function t(e,i,n){function r(o,a){if(!i[o]){if(!e[o]){var d="function"==typeof require&&require;if(!a&&d)return d(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var l=i[o]={exports:{}};e[o][0].call(l.exports,function(t){var i=e[o][1][t];return r(i||t)},l,l.exports,t,e,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({18:[function(t,e,i){function n(t){this.classList.add("dragging"),d=this,t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/html",this.innerHTML)}function r(t){this.classList.remove("dragover")}function s(t){return t.stopPropagation&&t.stopPropagation(),d!=this&&d.getAttribute("data-ability-index")==this.getAttribute("data-ability-index")&&(d.innerHTML=this.innerHTML,this.innerHTML=t.dataTransfer.getData("text/html"),this.setAttribute("draggable",!1),d.setAttribute("draggable",!1),d.parentNode.removeChild(d),0==--f&&a()),!1}function o(t){var e=document.getElementById("abilitybox_start");[].forEach.call(e.children,function(t){t.classList.remove("dragover"),t.classList.remove("dragging")})}function a(){function t(){0==a&&(document.getElementById("contentcontainer").style.display="")}var e=l[Math.floor(Math.random()*l.length)],i=h[e],a=0;f=0,document.getElementById("contentcontainer").style.display="none",document.getElementById("abilitybox_start").innerHTML="",document.getElementById("abilitybox_end").innerHTML="",document.getElementById("hero-portrait").innerHTML="",document.getElementById("heroname").innerHTML="",a=i.abilities.filter(function(t){return"attribute_bonus"!=t.name&&"Empty"!=t.displayname&&""!=t.displayname&&"generic_hidden"!=t.name}).length+1;var d=new Image;d.src="/media/images/heroes/"+e.replace("npc_dota_hero_","")+".png",d.onload=function(){document.getElementById("hero-portrait").src=d.src,a--,t()},document.getElementById("heroname").innerHTML=i.displayname;for(var c=0;c<i.abilities.length;c++)if("attribute_bonus"!=i.abilities[c].name&&"Empty"!=i.abilities[c].displayname&&""!=i.abilities[c].displayname&&"generic_hidden"!=i.abilities[c].name){f++;var u=document.createElement("div");u.classList.add("abilitybox_end"),u.id="ability_"+c,u.setAttribute("data-ability-index",c),document.getElementById("abilitybox_end").appendChild(u),u.addEventListener("dragover",function(t){t.preventDefault()}),u.addEventListener("dragenter",function(t){t.preventDefault()}),u.addEventListener("drop",s);var g="/media/images/spellicons/"+i.abilities[c].name+".png",p=document.createElement("div");p.classList.add("ability-wrapper"),p.id=i.abilities[c].name,p.setAttribute("draggable",!0),p.setAttribute("data-ability-index",c);var m=document.createElement("div");m.classList.add("overlay-hover"),p.appendChild(m);var v=document.createElement("div");v.classList.add("abilitybox"),p.appendChild(v);var y=new Image;y.src=g,y.onload=function(e,i){e.style.backgroundImage="url("+i+")",a--,t()}(v,g);var b=document.createElement("div");b.classList.add("abilitytextcontainer");var L=document.createElement("div");L.classList.add("abilitytext"),L.innerHTML=i.abilities[c].displayname,b.appendChild(L),v.appendChild(b),document.getElementById("abilitybox_start").appendChild(p)}for(var E=document.getElementById("abilitybox_start"),c=E.children.length;c>=0;c--)E.appendChild(E.children[Math.random()*c|0]);[].forEach.call(E.children,function(t){t.addEventListener("dragstart",n,!1),t.addEventListener("dragleave",r,!1),t.addEventListener("dragend",o,!1)})}var d,h,l,c=t("mobile-drag-drop"),u=t("../util/getJSON"),f=0;c.polyfill(),u("/media/dota-json/herodata.json",function(t){l=Object.keys(t),h=t,a()})},{"../util/getJSON":39,"mobile-drag-drop":13}],13:[function(t,e,i){!function(t,n){"object"==typeof i&&void 0!==e?n(i):"function"==typeof define&&define.amd?define(["exports"],n):n(t.MobileDragDrop=t.MobileDragDrop||{})}(this,function(t){"use strict";function e(){var t={dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,touchEvents:"ontouchstart"in document.documentElement,userAgentSupportingNativeDnD:void 0},e=!!window.chrome||/chrome/i.test(navigator.userAgent);return t.userAgentSupportingNativeDnD=!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||e&&t.touchEvents),T&&Object.keys(t).forEach(function(t){}),t}function i(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}function n(t){if(t&&Object.keys(t).forEach(function(e){D[e]=t[e]}),!D.forceApply){var n=e();if(n.userAgentSupportingNativeDnD&&n.draggable&&n.dragEvents)return!1}return I=i(),D.holdToDrag?a("touchstart",x,!1):a("touchstart",r,!1),!0}function r(t){if(!O){var e=s(t);if(e)try{O=new j(t,D,e,o)}catch(e){throw o(D,t,3),e}}}function s(t){var e=t.target;do{if(!1!==e.draggable&&e.getAttribute&&"true"===e.getAttribute("draggable"))return e}while((e=e.parentNode)&&e!==document.body)}function o(t,e,i){if(0===i&&t.defaultActionOverride)try{t.defaultActionOverride(e),e.defaultPrevented}catch(t){}O=null}function a(t,e,i){void 0===i&&(i=!0),document.addEventListener(t,e,!!I&&{passive:i})}function d(t,e){document.removeEventListener(t,e)}function h(t){return 0===t.length?0:t.reduce(function(t,e){return e+t},0)/t.length}function l(t){return t&&t.tagName}function c(t,e){for(var i=0;i<t.changedTouches.length;i++){if(t.changedTouches[i].identifier===e)return!0}return!1}function u(t,e,i,n,r,s,o){void 0===o&&(o=null);var a=e.changedTouches[0],d=new Event(i,{bubbles:!0,cancelable:n});d.dataTransfer=s,d.relatedTarget=o,d.screenX=a.screenX,d.screenY=a.screenY,d.clientX=a.clientX,d.clientY=a.clientY,d.pageX=a.pageX,d.pageY=a.pageY;var h=t.getBoundingClientRect();return d.offsetX=d.clientX-h.left,d.offsetY=d.clientY-h.top,d}function f(t,e,i){for(var n=[],r=[],s=0;s<e.touches.length;s++){var o=e.touches[s];n.push(o[t+"X"]),r.push(o[t+"Y"])}i.x=h(n),i.y=h(r)}function g(t,e){if(1===t.nodeType){for(var i=getComputedStyle(t),n=0;n<i.length;n++){var r=i[n];e.style.setProperty(r,i.getPropertyValue(r),i.getPropertyPriority(r))}e.style.pointerEvents="none",e.removeAttribute("id"),e.removeAttribute("class"),e.removeAttribute("draggable")}if(t.hasChildNodes())for(var n=0;n<t.childNodes.length;n++)g(t.childNodes[n],e.childNodes[n])}function p(t){var e=t.cloneNode(!0);return g(t,e),e.style.position="absolute",e.style.left="0px",e.style.top="0px",e.style.zIndex="999999",e.classList.add(w),e.classList.add(U),e}function m(t){return B.map(function(e){var i=t.style[e+"transform"];return i&&"none"!==i?i.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""})}function v(t,e,i,n,r){void 0===r&&(r=!0);var s=e.x,o=e.y;n&&(s+=n.x,o+=n.y),r&&(s-=parseInt(t.offsetWidth,10)/2,o-=parseInt(t.offsetHeight,10)/2);for(var a="translate3d("+s+"px,"+o+"px, 0)",d=0;d<B.length;d++){var h=B[d]+"transform";t.style[h]=a+" "+i[d]}}function y(t,e,i,n){var r=getComputedStyle(t);if("hidden"===r.visibility||"none"===r.display)return void n();e.classList.add(N);var s=getComputedStyle(e),o=parseFloat(s.transitionDuration);if(isNaN(o)||0===o)return void n();var a=t.getBoundingClientRect(),d={x:a.left,y:a.top};d.x+=document.body.scrollLeft||document.documentElement.scrollLeft,d.y+=document.body.scrollTop||document.documentElement.scrollTop,d.x-=parseInt(r.marginLeft,10),d.y-=parseInt(r.marginTop,10);var h=parseFloat(s.transitionDelay),l=Math.round(1e3*(o+h));v(e,d,i,void 0,!1),setTimeout(n,l)}function b(t,e){return t?t===M[0]?A[0]:0===t.indexOf(M[1])||t===M[7]?A[1]:0===t.indexOf(M[4])?A[3]:t===M[6]?A[2]:A[1]:3===e.nodeType&&"A"===e.tagName?A[3]:A[1]}function L(t,e,i,n,r,s,o){if(void 0===s&&(s=!0),void 0===o&&(o=null),T){var a=J+"debug",d=J+"event-target",h=J+"event-related-target";e.classList.add(a),e.classList.add(d),o&&(o.classList.add(a),o.classList.add(h))}var l=u(e,i,t,s,document.defaultView,r,o),c=!e.dispatchEvent(l);return n.g=0,T&&(e.classList.remove(d),o&&o.classList.remove(h)),c}function E(t,e){if(!t||t===M[7])return e;if(e===A[1]){if(0===t.indexOf(A[1]))return A[1]}else if(e===A[3]){if(0===t.indexOf(A[3])||t.indexOf("Link")>-1)return A[3]}else if(e===A[2]&&(0===t.indexOf(A[2])||t.indexOf("Move")>-1))return A[2];return A[0]}function x(t){var e=t.target,i=function(){o.off(),a.off(),d.off(),r(t)},n=function(){o.off(),a.off(),d.off(),clearTimeout(s)},s=setTimeout(i,D.holdToDrag),o=C(e,"touchend",n,this),a=C(e,"touchcancel",n,this),d=C(window,"scroll",n,this)}function C(t,e,i,n){return n&&(i=i.bind(n)),t.addEventListener(e,i),{off:function(){return t.removeEventListener(e,i)}}}var I,O,T=!1,D={iterationInterval:150},M=["none","copy","copyLink","copyMove","link","linkMove","move","all"],A=["none","copy","move","link"],B=["","-webkit-"],J="dnd-poly-",w=J+"drag-image",N=J+"snapback",U=J+"icon",j=function(){function t(t,e,i,n){this.h=t,this.i=e,this.j=i,this.k=n,this.l=0,this.m=null,this.o=null,this.p=t,this.q=t.changedTouches[0],this.s=this.t.bind(this),this.u=this.v.bind(this),a("touchmove",this.s,!1),a("touchend",this.u,!1),a("touchcancel",this.u,!1)}return t.prototype.A=function(){var t=this;this.l=1,this.B=A[0],this.C={D:{},F:void 0,g:3,G:[]},this.H={x:null,y:null},this.I={x:null,y:null};var e=this.j;if(this.J=new H(this.C,function(i,n,r){e=i,"number"!=typeof n&&"number"!=typeof r||(t.K={x:n||0,y:r||0})}),this.C.g=2,this.J.dropEffect=A[0],L("dragstart",this.j,this.p,this.C,this.J))return this.l=3,this.L(),!1;if(f("page",this.p,this.I),this.M=p(e),this.N=m(this.M),!this.K)if(this.i.dragImageOffset)this.K={x:this.i.dragImageOffset.x,y:this.i.dragImageOffset.y};else if(this.i.dragImageCenterOnTouch){var i=getComputedStyle(e);this.K={x:0-parseInt(i.marginLeft,10),y:0-parseInt(i.marginTop,10)}}else{var n=e.getBoundingClientRect(),i=getComputedStyle(e);this.K={x:n.left-this.q.clientX-parseInt(i.marginLeft,10)+n.width/2,y:n.top-this.q.clientY-parseInt(i.marginTop,10)+n.height/2}}return v(this.M,this.I,this.N,this.K,this.i.dragImageCenterOnTouch),document.body.appendChild(this.M),this.O=setInterval(function(){t.P||(t.P=!0,t.R(),t.P=!1)},this.i.iterationInterval),!0},t.prototype.L=function(){this.O&&(clearInterval(this.O),this.O=null),d("touchmove",this.s),d("touchend",this.u),d("touchcancel",this.u),this.M&&(this.M.parentNode.removeChild(this.M),this.M=null),this.k(this.i,this.p,this.l)},t.prototype.t=function(t){var e=this;if(!1!==c(t,this.q.identifier)){if(this.p=t,0===this.l){var i=void 0;if(this.i.dragStartConditionOverride)try{i=this.i.dragStartConditionOverride(t)}catch(t){i=!1}else i=1===t.touches.length;return i?void(!0===this.A()&&(this.h.preventDefault(),t.preventDefault())):void this.L()}if(t.preventDefault(),f("client",t,this.H),f("page",t,this.I),this.i.dragImageTranslateOverride)try{var n=!1;if(this.i.dragImageTranslateOverride(t,{x:this.H.x,y:this.H.y},this.m,function(t,i){e.M&&(n=!0,e.H.x+=t,e.H.y+=i,e.I.x+=t,e.I.y+=i,v(e.M,e.I,e.N,e.K,e.i.dragImageCenterOnTouch))}),n)return}catch(t){}v(this.M,this.I,this.N,this.K,this.i.dragImageCenterOnTouch)}},t.prototype.v=function(t){if(!1!==c(t,this.q.identifier)){if(this.i.dragImageTranslateOverride)try{this.i.dragImageTranslateOverride(void 0,void 0,void 0,function(){})}catch(t){}if(0===this.l)return void this.L();t.preventDefault(),this.l="touchcancel"===t.type?3:2}},t.prototype.R=function(){var t=this;if(T)var e=J+"debug",i=J+"immediate-user-selection",n=J+"current-drop-target";var r=this.B;this.C.g=3,this.J.dropEffect=A[0];var s=L("drag",this.j,this.p,this.C,this.J);if(s&&(this.B=A[0]),s||2===this.l||3===this.l){return this.S(this.l)?void y(this.j,this.M,this.N,function(){t.T()}):void this.T()}var o=document.elementFromPoint(this.H.x,this.H.y),a=this.o;o!==this.m&&o!==this.o&&(T&&(this.m&&this.m.classList.remove(i),o&&(o.classList.add(e),o.classList.add(i))),this.m=o,null!==this.o&&(this.C.g=3,this.J.dropEffect=A[0],L("dragexit",this.o,this.p,this.C,this.J,!1)),null===this.m?this.o=this.m:(this.C.g=3,this.J.dropEffect=b(this.C.F,this.j),L("dragenter",this.m,this.p,this.C,this.J)?(this.o=this.m,this.B=E(this.J.effectAllowed,this.J.dropEffect)):this.m!==document.body&&(this.o=document.body))),a!==this.o&&l(a)&&(T&&a.classList.remove(n),this.C.g=3,this.J.dropEffect=A[0],L("dragleave",a,this.p,this.C,this.J,!1,this.o)),l(this.o)&&(T&&(this.o.classList.add(e),this.o.classList.add(n)),this.C.g=3,this.J.dropEffect=b(this.C.F,this.j),!1===L("dragover",this.o,this.p,this.C,this.J)?this.B=A[0]:this.B=E(this.J.effectAllowed,this.J.dropEffect)),r!==this.B&&this.M.classList.remove(J+r);var d=J+this.B;!1===this.M.classList.contains(d)&&this.M.classList.add(d)},t.prototype.S=function(t){if(T){var e=J+"immediate-user-selection",i=J+"current-drop-target";this.o&&this.o.classList.remove(i),this.m&&this.m.classList.remove(e)}var n=this.B===A[0]||null===this.o||3===t;return n?l(this.o)&&(this.C.g=3,this.J.dropEffect=A[0],L("dragleave",this.o,this.p,this.C,this.J,!1)):l(this.o)&&(this.C.g=1,this.J.dropEffect=this.B,!0===L("drop",this.o,this.p,this.C,this.J)?this.B=this.J.dropEffect:this.B=A[0]),n},t.prototype.T=function(){this.C.g=3,this.J.dropEffect=this.B,L("dragend",this.j,this.p,this.C,this.J,!1),this.l=2,this.L()},t}(),H=function(){function t(t,e){this.U=t,this.V=e,this.W=A[0]}return Object.defineProperty(t.prototype,"types",{get:function(){if(0!==this.U.g)return Object.freeze(this.U.G)},enumerable:!0,configurable:!0}),t.prototype.setData=function(t,e){if(2===this.U.g){if(t.indexOf(" ")>-1)throw new Error("illegal arg: type contains space");this.U.D[t]=e,-1===this.U.G.indexOf(t)&&this.U.G.push(t)}},t.prototype.getData=function(t){if(1===this.U.g||2===this.U.g)return this.U.D[t]||""},t.prototype.clearData=function(t){if(2===this.U.g){if(t&&this.U.D[t]){delete this.U.D[t];var e=this.U.G.indexOf(t);return void(e>-1&&this.U.G.splice(e,1))}this.U.D={},this.U.G=[]}},t.prototype.setDragImage=function(t,e,i){2===this.U.g&&this.V(t,e,i)},Object.defineProperty(t.prototype,"effectAllowed",{get:function(){return this.U.F},set:function(t){2===this.U.g&&M.indexOf(t)>-1&&(this.U.F=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropEffect",{get:function(){return this.W},set:function(t){0!==this.U.g&&M.indexOf(t)>-1&&(this.W=t)},enumerable:!0,configurable:!0}),t}();t.polyfill=n,Object.defineProperty(t,"__esModule",{value:!0})})},{}]},{},[18]);