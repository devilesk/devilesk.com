require=function e(t,i,o){function n(r,a){if(!i[r]){if(!t[r]){var u="function"==typeof require&&require;if(!a&&u)return u(r,!0);if(s)return s(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var p=i[r]={exports:{}};t[r][0].call(p.exports,function(e){var i=t[r][1][e];return n(i||e)},p,p.exports,e,t,i,o)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<o.length;r++)n(o[r]);return n}({18:[function(e,t,i){(function(t){var i=jQuery="undefined"!=typeof window?window.$:void 0!==t?t.$:null;e("jquery-ui/ui/version"),e("jquery-ui/ui/ie"),e("jquery-ui/ui/data"),e("jquery-ui/ui/plugin"),e("jquery-ui/ui/safe-active-element"),e("jquery-ui/ui/safe-blur"),e("jquery-ui/ui/scroll-parent"),e("jquery-ui/ui/widget"),e("jquery-ui/ui/widgets/mouse"),e("jquery-ui/ui/widgets/draggable"),e("jquery-ui/ui/widgets/droppable"),e("../lib/jquery.ui.touch-punch"),i(function(){i.getJSON("/media/dota-json/herodata.json",function(e){function t(){function e(){0==u&&i("#contentcontainer").show()}var s=o[Math.floor(Math.random()*o.length)],r=n[s],a=0,u=0;i("#contentcontainer").hide(),i("#abilitybox_start").empty(),i("#abilitybox_end").empty(),i("#heroportrait").empty(),i("#heroname").empty(),u=r.abilities.filter(function(e){return"attribute_bonus"!=e.name&&"Empty"!=e.displayname&&""!=e.displayname}).length+1;var l=new Image;l.src="/media/images/heroes/"+s.replace("npc_dota_hero_","")+".png",l.onload=function(){i("#heroportrait").attr("src",l.src),u--,e()},i("#heroname").text(r.displayname);for(var p=0;p<r.abilities.length;p++)if("attribute_bonus"!=r.abilities[p].name&&"Empty"!=r.abilities[p].displayname&&""!=r.abilities[p].displayname){var c=(i("<div class=abilitybox_end id=ability_"+p+"></div>").droppable({accept:"#"+r.abilities[p].name,tolerance:"intersect",drop:function(e,o){var n=i(this).offset(),s=o.draggable.offset(),u=n.left-s.left,l=n.top-s.top;o.draggable.animate({top:"+="+l,left:"+="+u},function(){(a+=1)==r.abilities.length-1&&t()})}}).appendTo("#abilitybox_end"),"/media/images/spellicons/"+r.abilities[p].name+".png");overlay=i('<div class="overlay-hover"></div>'),abilityWrapper=i('<div class="ability-wrapper" id='+r.abilities[p].name+"></div>").draggable({revert:"invalid"}),ability=i('<div class="abilitybox"></div>'),abilityWrapper.append(overlay),abilityWrapper.append(ability);var d=new Image;d.src=c,d.onload=function(t,i){t.css("background-image","url("+i+")"),u--,e()}(ability,c),ability.html(i("<div class=abilitytextcontainer></div>").html(i("<div class=abilitytext></div>").text(r.abilities[p].displayname))),Math.random()<.5?abilityWrapper.appendTo("#abilitybox_start"):abilityWrapper.prependTo("#abilitybox_start")}}var o=Object.keys(e),n=e;t()})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/jquery.ui.touch-punch":34,"jquery-ui/ui/data":2,"jquery-ui/ui/ie":3,"jquery-ui/ui/plugin":4,"jquery-ui/ui/safe-active-element":5,"jquery-ui/ui/safe-blur":6,"jquery-ui/ui/scroll-parent":7,"jquery-ui/ui/version":8,"jquery-ui/ui/widget":9,"jquery-ui/ui/widgets/draggable":10,"jquery-ui/ui/widgets/droppable":11,"jquery-ui/ui/widgets/mouse":12}],34:[function(e,t,i){!function(e){function t(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var i=e.originalEvent.changedTouches[0],o=document.createEvent("MouseEvents");o.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(o)}}if(e.support.touch="ontouchend"in document,e.support.touch){var i,o=e.ui.mouse.prototype,n=o._mouseInit,s=o._mouseDestroy;o._touchStart=function(e){var o=this;!i&&o._mouseCapture(e.originalEvent.changedTouches[0])&&(i=!0,o._touchMoved=!1,t(e,"mouseover"),t(e,"mousemove"),t(e,"mousedown"))},o._touchMove=function(e){i&&(this._touchMoved=!0,t(e,"mousemove"))},o._touchEnd=function(e){i&&(t(e,"mouseup"),t(e,"mouseout"),this._touchMoved||t(e,"click"),i=!1)},o._mouseInit=function(){var t=this;t.element.bind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),n.call(t)},o._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),s.call(t)}}}(jQuery)},{}],11:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery","./draggable","./mouse","../version","../widget"],e):e(jQuery)}(function(e){e.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,o=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(o)?o:function(e){return e.is(o)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var o=e.ui.ddmanager.droppables[this.options.scope];this._splice(o),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(i)))},_drop:function(i,o){var n=o||e.ui.ddmanager.current,s=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var o=e(this).droppable("instance");if(o.options.greedy&&!o.options.disabled&&o.options.scope===n.options.scope&&o.accept.call(o.element[0],n.currentItem||n.element)&&t(n,e.extend(o,{offset:o.element.offset()}),o.options.tolerance,i))return s=!0,!1}),!s&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",i,this.ui(n)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var t=e.ui.intersect=function(){function e(e,t,i){return e>=t&&e<t+i}return function(t,i,o,n){if(!i.offset)return!1;var s=(t.positionAbs||t.position.absolute).left+t.margins.left,r=(t.positionAbs||t.position.absolute).top+t.margins.top,a=s+t.helperProportions.width,u=r+t.helperProportions.height,l=i.offset.left,p=i.offset.top,c=l+i.proportions().width,d=p+i.proportions().height;switch(o){case"fit":return l<=s&&a<=c&&p<=r&&u<=d;case"intersect":return l<s+t.helperProportions.width/2&&a-t.helperProportions.width/2<c&&p<r+t.helperProportions.height/2&&u-t.helperProportions.height/2<d;case"pointer":return e(n.pageY,p,i.proportions().height)&&e(n.pageX,l,i.proportions().width);case"touch":return(r>=p&&r<=d||u>=p&&u<=d||r<p&&u>d)&&(s>=l&&s<=c||a>=l&&a<=c||s<l&&a>c);default:return!1}}}();return e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var o,n,s=e.ui.ddmanager.droppables[t.options.scope]||[],r=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(o=0;o<s.length;o++)if(!(s[o].options.disabled||t&&!s[o].accept.call(s[o].element[0],t.currentItem||t.element))){for(n=0;n<a.length;n++)if(a[n]===s[o].element[0]){s[o].proportions().height=0;continue e}s[o].visible="none"!==s[o].element.css("display"),s[o].visible&&("mousedown"===r&&s[o]._activate.call(s[o],i),s[o].offset=s[o].element.offset(),s[o].proportions({width:s[o].element[0].offsetWidth,height:s[o].element[0].offsetHeight}))}},drop:function(i,o){var n=!1;return e.each((e.ui.ddmanager.droppables[i.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t(i,this,this.options.tolerance,o)&&(n=this._drop.call(this,o)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,o)))}),n},dragStart:function(t,i){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(i,o){i.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(i,o),e.each(e.ui.ddmanager.droppables[i.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,s,r,a=t(i,this,this.options.tolerance,o),u=!a&&this.isover?"isout":a&&!this.isover?"isover":null;u&&(this.options.greedy&&(s=this.options.scope,r=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===s}),r.length&&(n=e(r[0]).droppable("instance"),n.greedyChild="isover"===u)),n&&"isover"===u&&(n.isover=!1,n.isout=!0,n._out.call(n,o)),this[u]=!0,this["isout"===u?"isover":"isout"]=!1,this["isover"===u?"_over":"_out"].call(this,o),n&&"isout"===u&&(n.isout=!1,n.isover=!0,n._over.call(n,o)))}})},dragStop:function(t,i){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},!1!==e.uiBackCompat&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),e.ui.droppable})},{}]},{},[18]);