var itemdata = {"item_recipe_ancient_janggo":{"cost":875,"name":"Drum of Endurance Recipe"},"item_recipe_armlet":{"cost":700,"name":"Armlet of Mordiggian Recipe"},"item_recipe_assault":{"cost":1300,"name":"Assault Cuirass Recipe"},"item_recipe_basher":{"cost":1000,"name":"Skull Basher Recipe"},"item_recipe_black_king_bar":{"cost":1375,"name":"Black King Bar Recipe"},"item_recipe_bracer":{"cost":190,"name":"Bracer Recipe"},"item_recipe_buckler":{"cost":200,"name":"Buckler Recipe"},"item_recipe_cyclone":{"cost":500,"name":"Eul's Scepter of Divinity Recipe"},"item_recipe_dagon":{"cost":1250,"name":"Dagon Recipe"},"item_recipe_desolator":{"cost":900,"name":"Desolator Recipe"},"item_recipe_diffusal_blade":{"cost":850,"name":"Diffusal Blade Recipe"},"item_recipe_force_staff":{"cost":900,"name":"Force Staff Recipe"},"item_recipe_greater_crit":{"cost":1000,"name":"Daedalus Recipe"},"item_recipe_hand_of_midas":{"cost":1550,"name":"Hand of Midas Recipe"},"item_recipe_headdress":{"cost":200,"name":"Headdress Recipe"},"item_recipe_heart":{"cost":1200,"name":"Heart of Tarrasque Recipe"},"item_recipe_lesser_crit":{"cost":500,"name":"Crystalys Recipe"},"item_recipe_maelstrom":{"cost":600,"name":"Maelstrom Recipe"},"item_recipe_magic_wand":{"cost":150,"name":"Magic Wand Recipe"},"item_recipe_manta":{"cost":900,"name":"Manta Style Recipe"},"item_recipe_mask_of_madness":{"cost":1000,"name":"Mask of Madness Recipe"},"item_recipe_medallion_of_courage":{"cost":200,"name":"Medallion of Courage Recipe"},"item_recipe_mekansm":{"cost":900,"name":"Mekansm Recipe"},"item_recipe_mjollnir":{"cost":900,"name":"Mjollnir Recipe"},"item_recipe_necronomicon":{"cost":1250,"name":"Necronomicon Recipe"},"item_recipe_null_talisman":{"cost":135,"name":"Null Talisman Recipe"},"item_recipe_orchid":{"cost":775,"name":"Orchid Malevolence Recipe"},"item_recipe_pipe":{"cost":900,"name":"Pipe of Insight Recipe"},"item_recipe_radiance":{"cost":1350,"name":"Radiance Recipe"},"item_recipe_refresher":{"cost":1800,"name":"Refresher Orb Recipe"},"item_recipe_sange":{"cost":600,"name":"Sange Recipe"},"item_recipe_satanic":{"cost":1100,"name":"Satanic Recipe"},"item_recipe_shivas_guard":{"cost":600,"name":"Shiva's Guard Recipe"},"item_recipe_soul_ring":{"cost":125,"name":"Soul Ring Recipe"},"item_recipe_sphere":{"cost":1325,"name":"Linken's Sphere Recipe"},"item_recipe_travel_boots":{"cost":2000,"name":"Boots of Travel Recipe"},"item_recipe_urn_of_shadows":{"cost":250,"name":"Urn of Shadows Recipe"},"item_recipe_veil_of_discord":{"cost":1250,"name":"Veil of Discord Recipe"},"item_recipe_vladmir":{"cost":300,"name":"Vladmir's Offering Recipe"},"item_recipe_wraith_band":{"cost":150,"name":"Wraith Band Recipe"},"item_recipe_yasha":{"cost":600,"name":"Yasha Recipe"},"item_blink":{"cost":2150,"name":"Blink Dagger"},"item_blades_of_attack":{"cost":450,"name":"Blades of Attack"},"item_broadsword":{"cost":1200,"name":"Broadsword"},"item_chainmail":{"cost":550,"name":"Chainmail"},"item_claymore":{"cost":1400,"name":"Claymore"},"item_helm_of_iron_will":{"cost":950,"name":"Helm of Iron Will"},"item_javelin":{"cost":1500,"name":"Javelin"},"item_mithril_hammer":{"cost":1600,"name":"Mithril Hammer"},"item_platemail":{"cost":1400,"name":"Platemail"},"item_quarterstaff":{"cost":900,"name":"Quarterstaff"},"item_quelling_blade":{"cost":225,"name":"Quelling Blade"},"item_ring_of_protection":{"cost":175,"name":"Ring of Protection"},"item_gauntlets":{"cost":150,"name":"Gauntlets of Strength"},"item_slippers":{"cost":150,"name":"Slippers of Agility"},"item_mantle":{"cost":150,"name":"Mantle of Intelligence"},"item_branches":{"cost":50,"name":"Iron Branch"},"item_belt_of_strength":{"cost":450,"name":"Belt of Strength"},"item_boots_of_elves":{"cost":450,"name":"Band of Elvenskin"},"item_robe":{"cost":450,"name":"Robe of the Magi"},"item_circlet":{"cost":185,"name":"Circlet"},"item_ogre_axe":{"cost":1000,"name":"Ogre Club"},"item_blade_of_alacrity":{"cost":1000,"name":"Blade of Alacrity"},"item_staff_of_wizardry":{"cost":1000,"name":"Staff of Wizardry"},"item_ultimate_orb":{"cost":2100,"name":"Ultimate Orb"},"item_gloves":{"cost":500,"name":"Gloves of Haste"},"item_lifesteal":{"cost":900,"name":"Morbid Mask"},"item_ring_of_regen":{"cost":350,"name":"Ring of Regen"},"item_sobi_mask":{"cost":325,"name":"Sage's Mask"},"item_boots":{"cost":450,"name":"Boots of Speed"},"item_gem":{"cost":900,"name":"Gem of True Sight"},"item_cloak":{"cost":550,"name":"Cloak"},"item_talisman_of_evasion":{"cost":1800,"name":"Talisman of Evasion"},"item_magic_stick":{"cost":200,"name":"Magic Stick"},"item_magic_wand":{"cost":500,"name":"Magic Wand"},"item_ghost":{"cost":1600,"name":"Ghost Scepter"},"item_clarity":{"cost":50,"name":"Clarity"},"item_flask":{"cost":115,"name":"Healing Salve"},"item_dust":{"cost":180,"name":"Dust of Appearance"},"item_bottle":{"cost":650,"name":"Bottle"},"item_ward_observer":{"cost":150,"name":"Observer Ward"},"item_ward_sentry":{"cost":200,"name":"Sentry Ward"},"item_tango":{"cost":125,"name":"Tango"},"item_courier":{"cost":150,"name":"Animal Courier"},"item_tpscroll":{"cost":135,"name":"Town Portal Scroll"},"item_travel_boots":{"cost":2450,"name":"Boots of Travel"},"item_phase_boots":{"cost":1350,"name":"Phase Boots"},"item_demon_edge":{"cost":2400,"name":"Demon Edge"},"item_eagle":{"cost":3300,"name":"Eaglesong"},"item_reaver":{"cost":3200,"name":"Reaver"},"item_relic":{"cost":3800,"name":"Sacred Relic"},"item_hyperstone":{"cost":2000,"name":"Hyperstone"},"item_ring_of_health":{"cost":875,"name":"Ring of Health"},"item_void_stone":{"cost":875,"name":"Void Stone"},"item_mystic_staff":{"cost":2700,"name":"Mystic Staff"},"item_energy_booster":{"cost":1000,"name":"Energy Booster"},"item_point_booster":{"cost":1200,"name":"Point Booster"},"item_vitality_booster":{"cost":1100,"name":"Vitality Booster"},"item_power_treads":{"cost":1400,"name":"Power Treads"},"item_hand_of_midas":{"cost":2050,"name":"Hand of Midas"},"item_oblivion_staff":{"cost":1675,"name":"Oblivion Staff"},"item_pers":{"cost":1750,"name":"Perseverance"},"item_poor_mans_shield":{"cost":550,"name":"Poor Man's Shield"},"item_bracer":{"cost":525,"name":"Bracer"},"item_wraith_band":{"cost":485,"name":"Wraith Band"},"item_null_talisman":{"cost":470,"name":"Null Talisman"},"item_mekansm":{"cost":2300,"name":"Mekansm"},"item_vladmir":{"cost":2050,"name":"Vladmir's Offering"},"item_flying_courier":{"cost":220,"name":"Flying Courier"},"item_buckler":{"cost":800,"name":"Buckler"},"item_ring_of_basilius":{"cost":500,"name":"Ring of Basilius"},"item_pipe":{"cost":3625,"name":"Pipe of Insight"},"item_urn_of_shadows":{"cost":875,"name":"Urn of Shadows"},"item_headdress":{"cost":600,"name":"Headdress"},"item_sheepstick":{"cost":5675,"name":"Scythe of Vyse"},"item_orchid":{"cost":4125,"name":"Orchid Malevolence"},"item_cyclone":{"cost":2700,"name":"Eul's Scepter of Divinity"},"item_force_staff":{"cost":2250,"name":"Force Staff"},"item_dagon":{"cost":2720,"name":"Dagon"},"item_necronomicon":{"cost":2700,"name":"Necronomicon"},"item_ultimate_scepter":{"cost":4200,"name":"Aghanim's Scepter"},"item_refresher":{"cost":5225,"name":"Refresher Orb"},"item_assault":{"cost":5250,"name":"Assault Cuirass"},"item_heart":{"cost":5500,"name":"Heart of Tarrasque"},"item_black_king_bar":{"cost":3975,"name":"Black King Bar"},"item_shivas_guard":{"cost":4700,"name":"Shiva's Guard"},"item_bloodstone":{"cost":5050,"name":"Bloodstone"},"item_sphere":{"cost":5175,"name":"Linken's Sphere"},"item_vanguard":{"cost":2225,"name":"Vanguard"},"item_blade_mail":{"cost":2200,"name":"Blade Mail"},"item_soul_booster":{"cost":3300,"name":"Soul Booster"},"item_hood_of_defiance":{"cost":2125,"name":"Hood of Defiance"},"item_rapier":{"cost":6200,"name":"Divine Rapier"},"item_monkey_king_bar":{"cost":5400,"name":"Monkey King Bar"},"item_radiance":{"cost":5150,"name":"Radiance"},"item_butterfly":{"cost":6000,"name":"Butterfly"},"item_greater_crit":{"cost":5550,"name":"Daedalus"},"item_basher":{"cost":2950,"name":"Skull Basher"},"item_bfury":{"cost":4350,"name":"Battle Fury"},"item_manta":{"cost":5050,"name":"Manta Style"},"item_lesser_crit":{"cost":2150,"name":"Crystalys"},"item_armlet":{"cost":2600,"name":"Armlet of Mordiggian"},"item_invis_sword":{"cost":3000,"name":"Shadow Blade"},"item_sange_and_yasha":{"cost":4100,"name":"Sange and Yasha"},"item_satanic":{"cost":6150,"name":"Satanic"},"item_mjollnir":{"cost":5600,"name":"Mjollnir"},"item_skadi":{"cost":5675,"name":"Eye of Skadi"},"item_sange":{"cost":2050,"name":"Sange"},"item_helm_of_the_dominator":{"cost":1850,"name":"Helm of the Dominator"},"item_maelstrom":{"cost":2700,"name":"Maelstrom"},"item_desolator":{"cost":4100,"name":"Desolator"},"item_yasha":{"cost":2050,"name":"Yasha"},"item_mask_of_madness":{"cost":1900,"name":"Mask of Madness"},"item_diffusal_blade":{"cost":3300,"name":"Diffusal Blade"},"item_ethereal_blade":{"cost":4900,"name":"Ethereal Blade"},"item_soul_ring":{"cost":800,"name":"Soul Ring"},"item_arcane_boots":{"cost":1450,"name":"Arcane Boots"},"item_orb_of_venom":{"cost":275,"name":"Orb of Venom"},"item_stout_shield":{"cost":250,"name":"Stout Shield"},"item_ancient_janggo":{"cost":1850,"name":"Drum of Endurance"},"item_medallion_of_courage":{"cost":1075,"name":"Medallion of Courage"},"item_smoke_of_deceit":{"cost":100,"name":"Smoke of Deceit"},"item_veil_of_discord":{"cost":2670,"name":"Veil of Discord"},"item_rod_of_atos":{"cost":3100,"name":"Rod of Atos"},"item_abyssal_blade":{"cost":6750,"name":"Abyssal Blade"},"item_heavens_halberd":{"cost":3850,"name":"Heaven's Halberd"},"item_ring_of_aquila":{"cost":985,"name":"Ring of Aquila"},"item_tranquil_boots":{"cost":975,"name":"Tranquil Boots"},"item_shadow_amulet":{"cost":1600,"name":"Shadow Amulet"}};
var items = ["item_recipe_ancient_janggo","item_recipe_armlet","item_recipe_assault","item_recipe_basher","item_recipe_black_king_bar","item_recipe_bracer","item_recipe_buckler","item_recipe_cyclone","item_recipe_dagon","item_recipe_desolator","item_recipe_diffusal_blade","item_recipe_force_staff","item_recipe_greater_crit","item_recipe_hand_of_midas","item_recipe_headdress","item_recipe_heart","item_recipe_lesser_crit","item_recipe_maelstrom","item_recipe_magic_wand","item_recipe_manta","item_recipe_mask_of_madness","item_recipe_medallion_of_courage","item_recipe_mekansm","item_recipe_mjollnir","item_recipe_necronomicon","item_recipe_null_talisman","item_recipe_orchid","item_recipe_pipe","item_recipe_radiance","item_recipe_refresher","item_recipe_sange","item_recipe_satanic","item_recipe_shivas_guard","item_recipe_soul_ring","item_recipe_sphere","item_recipe_travel_boots","item_recipe_urn_of_shadows","item_recipe_veil_of_discord","item_recipe_vladmir","item_recipe_wraith_band","item_recipe_yasha","item_blink","item_blades_of_attack","item_broadsword","item_chainmail","item_claymore","item_helm_of_iron_will","item_javelin","item_mithril_hammer","item_platemail","item_quarterstaff","item_quelling_blade","item_ring_of_protection","item_gauntlets","item_slippers","item_mantle","item_branches","item_belt_of_strength","item_boots_of_elves","item_robe","item_circlet","item_ogre_axe","item_blade_of_alacrity","item_staff_of_wizardry","item_ultimate_orb","item_gloves","item_lifesteal","item_ring_of_regen","item_sobi_mask","item_boots","item_gem","item_cloak","item_talisman_of_evasion","item_magic_stick","item_magic_wand","item_ghost","item_clarity","item_flask","item_dust","item_bottle","item_ward_observer","item_ward_sentry","item_tango","item_courier","item_tpscroll","item_travel_boots","item_phase_boots","item_demon_edge","item_eagle","item_reaver","item_relic","item_hyperstone","item_ring_of_health","item_void_stone","item_mystic_staff","item_energy_booster","item_point_booster","item_vitality_booster","item_power_treads","item_hand_of_midas","item_oblivion_staff","item_pers","item_poor_mans_shield","item_bracer","item_wraith_band","item_null_talisman","item_mekansm","item_vladmir","item_flying_courier","item_buckler","item_ring_of_basilius","item_pipe","item_urn_of_shadows","item_headdress","item_sheepstick","item_orchid","item_cyclone","item_force_staff","item_dagon","item_necronomicon","item_ultimate_scepter","item_refresher","item_assault","item_heart","item_black_king_bar","item_shivas_guard","item_bloodstone","item_sphere","item_vanguard","item_blade_mail","item_soul_booster","item_hood_of_defiance","item_rapier","item_monkey_king_bar","item_radiance","item_butterfly","item_greater_crit","item_basher","item_bfury","item_manta","item_lesser_crit","item_armlet","item_invis_sword","item_sange_and_yasha","item_satanic","item_mjollnir","item_skadi","item_sange","item_helm_of_the_dominator","item_maelstrom","item_desolator","item_yasha","item_mask_of_madness","item_diffusal_blade","item_ethereal_blade","item_soul_ring","item_arcane_boots","item_orb_of_venom","item_stout_shield","item_ancient_janggo","item_medallion_of_courage","item_smoke_of_deceit","item_veil_of_discord","item_rod_of_atos","item_abyssal_blade","item_heavens_halberd","item_ring_of_aquila","item_tranquil_boots","item_shadow_amulet"];

var item = {};
	var answers = [0,1,2,3,4];
	var answer = 0;
	var streak = 0;
	var longeststreak = 0;

function shuffle(array) {
    var counter = array.length, temp, index;

    // While there are elements in the array
    while (counter > 0) {
        // Pick a random index
        index = Math.floor(Math.random() * counter);

        // Decrease counter by 1
        counter--;

        // And swap the last element with it
        temp = array[counter];
        array[counter] = array[index];
        array[index] = temp;
    }

    return array;
};

function generateQuestion() {

	var items_shuffled = shuffle(items.slice(0));
	var answers_shuffled = shuffle(answers.slice(0));
	answer = itemdata[items_shuffled[0]].cost;
	/*$('#item').removeAttr('class');
	$('#item').addClass('itemsprite');
	$('#item').addClass('itemsprite-' + items_shuffled[0].replace('item_',''));*/
	$('#item').attr('src','http://cdn.dota2.com/apps/dota2/images/items/' + items_shuffled[0].replace('item_','') + '_lg.png');
	$('#item-name').html(itemdata[items_shuffled[0]].name);
	for (var i=0;i<answers_shuffled.length;i++) {
		$('#answer_' + answers_shuffled[i]).html(itemdata[items_shuffled[i]].cost).blur();
	}
}

	$('.btn').click(function(e) {
		if ($(this).text() == answer) {
			streak += 1;
			//$('#ans_msg').css('color','green');
			$('#ans_msg').html('<h3><span class=\"label label-success\">Correct!</span></h3>');
			generateQuestion();
		}
		else {
			//$('#ans_msg').css('color','red');
			$('#ans_msg').html('<h3><span class=\"label label-danger\">Wrong!</span></h3>');
			streak = 0;
		}
			if (streak > longeststreak) {
				longeststreak = streak;
				$('#longeststreak').text('Longest Streak: ' + longeststreak);
			}
		$('#ans_msg').stop(false,true, true);
		$('#ans_msg').show();
		$('#ans_msg').fadeOut(2000);
		$('#streak').text('Current Streak: ' + streak);
		e.preventDefault();
		e.stopImmediatePropagation()
		$(this).blur();

	});
	generateQuestion();

function checkAnswer() {
	if (item.cost == $('#abilityname').val()) {
		$('#ans_msg').html('<span class=\"label label-success\">Correct!</span>');
		generateQuestion();
	}
	else {
		$('#ans_msg').html('<span class=\"label label-danger\">Wrong!</span>');
	}
	$('#abilityname').val('');
		$('#ans_msg').stop(false,true, true);
		$('#ans_msg').show();
		$('#ans_msg').fadeOut(2000);
}